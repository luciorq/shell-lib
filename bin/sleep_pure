#!/usr/bin/env bash

# Do NOT modify this file manually.
# Change source code at: https://github.com/luciorq/shell-lib
# Author: Lucio Rezende Queiroz
# License: MIT

\builtin trap '\builtin echo "Exit status ${?} at line ${LINENO} from: ${BASH_COMMAND}"' ERR

\builtin set -o errexit;    # abort on nonzero exitstatus
\builtin set -o nounset;    # abort on unbound variable
\builtin set -o pipefail;   # do not hide errors within pipes

[[ "${BASH_VERSINFO[0]}" -lt 4 ]] && { \builtin echo >&2 "Error: Bash >=4 required"; \builtin exit 1; }

function sleep_pure ()
{
    local sleep_time;
    sleep_time="${1}";
    if [[ -z ${sleep_time} ]]; then
        exit_fun 'invalid option';
    fi;
    if [[ ${OSTYPE} =~ darwin ]]; then
        builtin command -p sleep "${sleep_time}";
    else
        builtin read -rt "${sleep_time}" <> <(:) || :;
    fi;
    return 0
}

function exit_fun ()
{
    : builtin local Error && Error=' ' && \builtin unset -v Error && "${Error:?$1}";
    \builtin exit 1
}

function main () {
    sleep_pure "${@:-}";
    \builtin return;
}

main "${@:-}";
\builtin exit;
